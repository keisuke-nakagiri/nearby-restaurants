{% extends 'base.html' %}

{% block title %}レストラン検索結果{% endblock %}
{% block content %}
    <h1>現在地から{{ search_range }}以内にあるお店</h1>
    
    {% if genre_name %}
        <p>ジャンル {{ genre_name }}</p>
    {% endif %}
    
    <p>
        検索結果 {{ restaurants.paginator.count }}件
        <span>（{{ restaurants.start_index }}~{{ restaurants.end_index }}件）</span>
    </p>

    {% if restaurants.has_previous %}
            <a href="?page={{ restaurants.previous_page_number }}">前へ</a>
    {% endif %}

    {{ restaurants.number }}/{{ restaurants.paginator.num_pages }}

    {% if restaurants.has_next %}
        <a href="?page={{ restaurants.next_page_number }}">次へ</a>
    {% endif %}

    <ul>
        {% for restaurant in restaurants %}
            <a href="{% url 'restaurants:detail' pk=restaurant.id %}">
                <li>
                    <h2>{{ restaurant.name }}</h2>
                    <p>{{ restaurant.access }}</p>
                    <img src="{{ restaurant.logo_image }}" alt="{{ restaurant.name }}">
                </li>
            </a>
        {% empty %}
            <p>該当する店舗がありませんでした。</p>
        {% endfor %}

    </ul>

    {% if restaurants.has_previous %}
        <a href="?page={{ restaurants.previous_page_number }}">前へ</a>
    {% endif %}

    {{ restaurants.number }}/{{ restaurants.paginator.num_pages }}

    {% if restaurants.has_next %}
        <a href="?page={{ restaurants.next_page_number }}">次へ</a>
    {% endif %}

    <a href="{% url 'restaurants:search' %}">検索条件入力画面に戻る</a>
{% endblock %}
